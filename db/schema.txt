
CREATE TABLE Department (
    department_id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    hod_name TEXT
);

CREATE TABLE Faculty (
    faculty_id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    department_id INTEGER,
    FOREIGN KEY (department_id) REFERENCES Department(department_id)
);

CREATE TABLE Alumni (
    roll_no TEXT PRIMARY KEY,
    name TEXT NOT NULL,
    email_id TEXT UNIQUE,
    phone_no TEXT,
    batch INTEGER,
    department_id INTEGER,
    FOREIGN KEY (department_id) REFERENCES Department(department_id)
);

CREATE TABLE Academic_History (
    roll_no TEXT,
    cg REAL,
    semester INT,
    PRIMARY KEY (roll_no ,semester),
    FOREIGN KEY (roll_no) REFERENCES Alumni(roll_no)
);


CREATE TABLE Event_Data (
    event_id INTEGER PRIMARY KEY AUTOINCREMENT,
    event_name TEXT NOT NULL,
    description TEXT,
    event_datetime DATETIME,
    location TEXT
);

CREATE TABLE Event_Participation (
    event_id INTEGER,
    roll_no TEXT,
    rsvp TEXT CHECK(rsvp IN ('Yes','No','Maybe')),
    PRIMARY KEY (event_id, roll_no),
    FOREIGN KEY (event_id) REFERENCES Event_Data(event_id),
    FOREIGN KEY (roll_no) REFERENCES Alumni(roll_no)
);

CREATE TABLE Donation (
    donation_id INTEGER PRIMARY KEY AUTOINCREMENT,
    roll_no TEXT,
    amount REAL NOT NULL,
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (roll_no) REFERENCES Alumni(roll_no)
);

CREATE TABLE Employment_History (
    employment_id INTEGER PRIMARY KEY AUTOINCREMENT,
    roll_no TEXT,
    starting_year INTEGER,
    ending_year INTEGER,
    company TEXT,
    designation TEXT,
    FOREIGN KEY (roll_no) REFERENCES Alumni(roll_no)
);
